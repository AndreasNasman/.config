#!/usr/bin/env fish

# This script changes space focus using the built-in macOS `Switch to Desktop`
# commands. It is an alternative approach to disabling "System Integrity
# Protection," which yabai requires to enable its functionality.

set --local desktop_index $argv[1]

# https://superuser.com/a/368036
set --local desktop_index_key_codes 18 19 20 21 23 22 26 28 25 29
set --local key_code $desktop_index_key_codes[$desktop_index]
# https://stackoverflow.com/a/23923108
osascript -e 'tell application "System Events" to key code "'$key_code'" using control down'
