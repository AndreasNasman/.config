#!/usr/bin/env fish

cd (dirname (status --current-filename))

echo 'ğŸ“€ Updating Git submodules.'
git submodule update --init --recursive --remote
echo 'ğŸ—ƒï¸ Updating whatis databases'
makewhatis
echo 'ğŸº Updating Homebrew packages.'
brew update
echo 'ğŸº Upgrading Homebrew packages.'
brew upgrade --greedy --force
echo 'ğŸº Removing stale Homebrew lock files and outdated downloads.'
brew cleanup
echo 'ğŸº Removing unused Homebrew dependencies.'
brew autoremove
echo 'ğŸº Updating Brewfile.'
# https://trello.com/c/46kxNqE9
cd $XDG_CONFIG_HOME/brew/
brew bundle dump --force
